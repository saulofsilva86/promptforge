<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MockupForge - POD Tools</title>
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‘•</text></svg>">
    
    <!-- AutenticaÃ§Ã£o -->
    <script src="auth.js"></script>
<script>
    // VerificaÃ§Ã£o local primeiro (mais rÃ¡pida)
    (function() {
        const sessao = localStorage.getItem('promptforge_session');
        if (!sessao) {
            window.location.href = 'index.html';
            return;
        }
        try {
            const dados = JSON.parse(sessao);
            if (!dados.email) {
                window.location.href = 'index.html';
            }
        } catch (e) {
            window.location.href = 'index.html';
        }
    })();
</script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #f857a6;
            --secondary: #00f260;
            --accent: #0575e6;
            --bg: #1a1a2e;
            --bg-card: rgba(255,255,255,0.05);
            --bg-input: rgba(0,0,0,0.3);
            --text: #ffffff;
            --text-dim: #888;
            --border: rgba(255,255,255,0.1);
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--bg) 0%, #16213e 100%);
            min-height: 100vh;
            color: var(--text);
            padding: 0;
            padding-bottom: 100px;
        }
        
        /* ========== NAVEGAÃ‡ÃƒO INTEGRADA ========== */
        .top-bar {
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border);
            padding: 12px 15px;
            position: sticky;
            top: 0;
            z-index: 200;
            backdrop-filter: blur(10px);
        }
        
        .top-bar-inner {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }
        
        .app-nav {
            display: flex;
            gap: 5px;
        }
        
        .nav-item {
            padding: 8px 14px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-dim);
            background: transparent;
            border: 1px solid transparent;
            transition: all 0.2s;
        }
        
        .nav-item:hover {
            color: var(--text);
            background: var(--bg-card);
        }
        
        .nav-item.active {
            color: var(--secondary);
            background: rgba(0,242,96,0.1);
            border-color: rgba(0,242,96,0.3);
        }
        
        .user-area {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-greeting {
            font-size: 0.8rem;
            color: var(--text-dim);
            display: none;
        }
        
        @media (min-width: 400px) {
            .user-greeting { display: block; }
        }
        
        .btn-logout {
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text-dim);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-logout:hover {
            border-color: #ff5858;
            color: #ff5858;
        }
        
        /* ========== CONTAINER ========== */
        .container { 
            max-width: 500px; 
            margin: 0 auto; 
            padding: 15px;
        }
        
        /* ========== HEADER ========== */
        .header { text-align: center; padding: 15px 0 20px; }
        .header .logo { font-size: 2.5rem; }
        .header h1 {
            font-size: 1.8rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .header p { color: var(--text-dim); font-size: 0.9rem; }
        .header .version {
            display: inline-block;
            background: var(--primary);
            color: #fff;
            font-size: 0.7rem;
            padding: 3px 10px;
            border-radius: 10px;
            margin-top: 8px;
        }
        
        /* ========== STICKY CONFIRM ========== */
        .sticky-confirm {
            position: sticky;
            top: 60px;
            z-index: 100;
            background: linear-gradient(135deg, #2d1f3d, var(--bg));
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 12px 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .sticky-confirm.confirmed {
            border-color: var(--secondary);
            background: linear-gradient(135deg, #1a2e1a, var(--bg));
        }
        .sticky-confirm input { width: 20px; height: 20px; accent-color: var(--secondary); }
        .sticky-confirm label { font-size: 0.85rem; cursor: pointer; flex: 1; }
        .sticky-confirm .icon { font-size: 1.3rem; }
        
        /* ========== SEÃ‡Ã•ES ========== */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 12px;
            overflow: hidden;
        }
        .section-header {
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }
        .section-header:hover { background: rgba(255,255,255,0.02); }
        .section-header .arrow { transition: transform 0.3s; }
        .section.open .arrow { transform: rotate(180deg); }
        .section-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
        .section.open .section-content { max-height: 3000px; }
        .section-inner { padding: 0 15px 15px; }
        
        /* ========== FORMS ========== */
        .form-group { margin-bottom: 18px; }
        .form-group:last-child { margin-bottom: 0; }
        .form-group label {
            display: block;
            font-size: 0.9rem;
            color: var(--secondary);
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        /* ========== GRIDS ========== */
        .options-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .options-grid.cols-2 { grid-template-columns: repeat(2, 1fr); }
        .options-grid.cols-4 { grid-template-columns: repeat(4, 1fr); }
        .options-grid.cols-5 { grid-template-columns: repeat(5, 1fr); }
        .options-grid.cols-6 { grid-template-columns: repeat(6, 1fr); }
        
        .opt {
            padding: 10px 5px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-input);
            cursor: pointer;
            text-align: center;
            font-size: 0.75rem;
            transition: all 0.2s;
        }
        .opt:hover { border-color: var(--primary); }
        .opt.selected { border-color: var(--secondary); background: rgba(0,242,96,0.15); }
        .opt.disabled { opacity: 0.3; pointer-events: none; }
        .opt .icon { display: block; font-size: 1.2rem; margin-bottom: 3px; }
        
        .color-opt {
            aspect-ratio: 1;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.2s;
        }
        .color-opt:hover { transform: scale(1.1); }
        .color-opt.selected { border-color: var(--secondary); box-shadow: 0 0 10px rgba(0,242,96,0.4); }
        
        /* ========== INPUTS ========== */
        select, input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-input);
            color: var(--text);
            font-size: 0.95rem;
        }
        select:focus, input:focus { outline: none; border-color: var(--secondary); }
        select option { background: var(--bg); }
        input::placeholder { color: #666; }
        input[type="text"] { margin-top: 10px; }
        
        .hint { font-size: 0.75rem; color: var(--text-dim); margin-top: 6px; }
        .hint .bulb { color: #f5af19; }
        
        /* ========== POSES ========== */
        .pose-group-title {
            font-size: 0.75rem;
            padding: 5px 10px;
            border-radius: 5px;
            margin: 10px 0 8px;
            display: inline-block;
        }
        .pose-group-title.rec { color: #f5af19; background: rgba(245,175,25,0.1); }
        .pose-group-title.uni { color: var(--text-dim); background: rgba(255,255,255,0.05); }
        
        .pose-opt {
            padding: 10px 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-input);
            cursor: pointer;
            font-size: 0.85rem;
            margin-bottom: 6px;
            transition: all 0.2s;
        }
        .pose-opt:hover { border-color: var(--primary); }
        .pose-opt.selected { border-color: var(--secondary); background: rgba(0,242,96,0.15); }
        .pose-opt.ai { border-color: var(--accent); background: rgba(5,117,230,0.1); text-align: center; font-weight: 600; }
        
        .random-btn {
            width: 100%;
            padding: 10px;
            border: 2px dashed var(--border);
            border-radius: 8px;
            background: transparent;
            color: var(--text-dim);
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.2s;
        }
        .random-btn:hover { border-color: var(--primary); color: var(--primary); }
        
        /* ========== BOTÃ•ES ========== */
        .actions { margin: 20px 0; display: flex; flex-direction: column; gap: 10px; }
        .btn {
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
        }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background: linear-gradient(135deg, var(--secondary), var(--accent)); color: var(--bg); }
        .btn-primary:not(:disabled):hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0,242,96,0.3); }
        .btn-secondary { background: linear-gradient(135deg, var(--primary), #ff5858); color: white; }
        
        /* ========== RESULTADO ========== */
        .result {
            background: var(--bg-card);
            border: 2px solid var(--secondary);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            display: none;
        }
        .result.show { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }
        .result h3 { color: var(--secondary); margin-bottom: 12px; font-size: 1rem; }
        
        .prompt-box {
            background: rgba(0,0,0,0.4);
            border-radius: 8px;
            padding: 12px;
            font-family: monospace;
            font-size: 0.8rem;
            line-height: 1.6;
            color: #ddd;
            border-left: 3px solid var(--secondary);
            max-height: 200px;
            overflow-y: auto;
            word-break: break-word;
        }
        
        .result-actions { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
        .result-actions button {
            flex: 1;
            min-width: 80px;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.85rem;
        }
        .btn-copy { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .btn-fav { background: var(--bg-input); border: 2px solid #f5af19 !important; color: #f5af19; }
        
        /* ========== VARIAÃ‡Ã•ES ========== */
        .variation { margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
        .variation:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
        .variation-label { font-size: 0.75rem; color: var(--primary); font-weight: 600; margin-bottom: 8px; }
        
        /* ========== TABS ========== */
        .tabs { margin-top: 25px; }
        .tabs-header { display: flex; border-bottom: 2px solid var(--border); }
        .tab-btn {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            color: var(--text-dim);
            font-weight: 600;
            cursor: pointer;
            position: relative;
        }
        .tab-btn.active { color: var(--secondary); }
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--secondary);
        }
        .tab-btn .count {
            background: var(--bg-input);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7rem;
            margin-left: 5px;
        }
        
        .tab-content {
            display: none;
            padding: 15px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 12px 12px;
        }
        .tab-content.active { display: block; }
        
        /* ========== ITENS SALVOS ========== */
        .saved-item {
            background: var(--bg-input);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
        }
        .saved-item-header { display: flex; justify-content: space-between; margin-bottom: 6px; }
        .saved-item-name { font-weight: 600; font-size: 0.9rem; }
        .saved-item-date { font-size: 0.7rem; color: var(--text-dim); }
        .saved-item-preview {
            font-size: 0.75rem;
            color: var(--text-dim);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            margin-bottom: 8px;
        }
        .saved-item-actions { display: flex; gap: 6px; }
        .saved-item-actions button {
            padding: 6px 10px;
            border: 1px solid var(--border);
            border-radius: 5px;
            background: transparent;
            color: var(--text-dim);
            font-size: 0.75rem;
            cursor: pointer;
        }
        .saved-item-actions button:hover { border-color: var(--secondary); color: var(--secondary); }
        .saved-item-actions .del:hover { border-color: #ff5858; color: #ff5858; }
        
        .empty { text-align: center; padding: 30px; color: var(--text-dim); }
        .empty .icon { font-size: 2rem; margin-bottom: 10px; opacity: 0.5; }
        
        .export-btn {
            width: 100%;
            padding: 10px;
            margin-top: 12px;
            border: 2px solid var(--accent);
            border-radius: 8px;
            background: transparent;
            color: var(--accent);
            font-weight: 600;
            cursor: pointer;
        }
        .export-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* ========== TOAST ========== */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--secondary);
            color: var(--bg);
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.3s;
            z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); }
        .toast.error { background: #ff5858; color: white; }
        
        /* ========== MODAL ========== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            padding: 20px;
        }
        .modal-overlay.show { opacity: 1; visibility: visible; }
        .modal {
            background: var(--bg);
            border-radius: 15px;
            padding: 25px;
            width: 100%;
            max-width: 350px;
        }
        .modal h3 { color: var(--secondary); margin-bottom: 15px; text-align: center; }
        .modal input { margin-bottom: 15px; margin-top: 0; }
        .modal-btns { display: flex; gap: 10px; }
        .modal-btns button { flex: 1; padding: 12px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; }
        .modal-cancel { background: var(--bg-input); color: var(--text-dim); }
        .modal-save { background: var(--secondary); color: var(--bg); }
        
        footer { text-align: center; padding: 20px; color: #666; font-size: 0.8rem; }
        .hidden { display: none !important; }
        
        @media (max-width: 400px) {
            .options-grid.cols-4, .options-grid.cols-5 { grid-template-columns: repeat(3, 1fr); }
            .options-grid.cols-6 { grid-template-columns: repeat(4, 1fr); }
            .nav-item { padding: 6px 10px; font-size: 0.8rem; }
        }
    </style>
</head>

<body>
    <!-- BARRA DE NAVEGAÃ‡ÃƒO -->
    <div class="top-bar">
        <div class="top-bar-inner">
            <nav class="app-nav">
                <a href="app.html" class="nav-item">ğŸ¨ Estampas</a>
                <a href="mockup.html" class="nav-item active">ğŸ‘• Mockups</a>
            </nav>
            <div class="user-area">
                <span class="user-greeting" id="userGreeting">OlÃ¡, UsuÃ¡rio</span>
                <button class="btn-logout" onclick="confirmarLogout()">ğŸšª Sair</button>
            </div>
        </div>
    </div>

    <div class="container">
        <header class="header">
            <div class="logo">ğŸ‘•</div>
            <h1>MockupForge</h1>
            <p>Prompts profissionais para mockups com IA</p>
            <span class="version">v2.0</span>
        </header>

        <div class="sticky-confirm" id="stickyConfirm">
            <span class="icon">âš ï¸</span>
            <input type="checkbox" id="confirmCheck">
            <label for="confirmCheck">JÃ¡ anexei minha estampa na IA</label>
        </div>

        <!-- SEÃ‡ÃƒO 1: PRODUTO E ESTAMPA -->
        <section class="section open" id="secProduto">
            <div class="section-header" onclick="toggleSection('secProduto')">
                <span>ğŸ“¦ Produto e Estampa</span>
                <span class="arrow">â–¼</span>
            </div>
            <div class="section-content">
                <div class="section-inner">
                    <div class="form-group">
                        <label>ğŸ¯ Nicho</label>
                        <div class="options-grid cols-4" id="gridNicho"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ‘• Produto</label>
                        <div class="options-grid" id="gridProduto"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ¨ Cor</label>
                        <div class="options-grid cols-6" id="gridCor"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ PosiÃ§Ã£o da Estampa</label>
                        <div class="options-grid cols-4" id="gridPosicao"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ Tamanho da Estampa</label>
                        <div class="options-grid cols-5" id="gridTamanho"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÃ‡ÃƒO 2: MODELO -->
        <section class="section" id="secModelo">
            <div class="section-header" onclick="toggleSection('secModelo')">
                <span>ğŸ‘¤ Modelo</span>
                <span class="arrow">â–¼</span>
            </div>
            <div class="section-content">
                <div class="section-inner">
                    <div class="form-group">
                        <label>ğŸ‘¤ Tipo</label>
                        <div class="options-grid cols-4" id="gridModelo"></div>
                    </div>
                    <div class="form-group" id="grpEtnia">
                        <label>ğŸŒ Etnia</label>
                        <div class="options-grid" id="gridEtnia"></div>
                    </div>
                    <div class="form-group" id="grpIdade">
                        <label>ğŸ“… Idade</label>
                        <div class="options-grid" id="gridIdade"></div>
                    </div>
                    <div class="form-group" id="grpExpressao">
                        <label>ğŸ˜Š ExpressÃ£o</label>
                        <div class="options-grid cols-5" id="gridExpressao"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SEÃ‡ÃƒO 3: CENA E FOTOGRAFIA -->
        <section class="section" id="secCena">
            <div class="section-header" onclick="toggleSection('secCena')">
                <span>ğŸ¬ Cena e Fotografia</span>
                <span class="arrow">â–¼</span>
            </div>
            <div class="section-content">
                <div class="section-inner">
                    <div class="form-group" id="grpCategoria">
                        <label>ğŸ“ Categoria</label>
                        <div class="options-grid" id="gridCategoria"></div>
                    </div>
                    <div class="form-group" id="grpCenario">
                        <label>ğŸ“ CenÃ¡rio</label>
                        <select id="selCenario"><option value="">Escolha categoria...</option></select>
                        <input type="text" id="txtCenario" placeholder="Ou descreva seu cenÃ¡rio...">
                        <p class="hint"><span class="bulb">ğŸ’¡</span> Dica: IAs funcionam melhor em inglÃªs</p>
                        <button class="random-btn" onclick="randomCenario()">ğŸ² AleatÃ³rio</button>
                    </div>
                    <div class="form-group hidden" id="grpSuperficie">
                        <label>ğŸªµ SuperfÃ­cie (Flat Lay)</label>
                        <select id="selSuperficie"><option value="">Selecione...</option></select>
                        <input type="text" id="txtSuperficie" placeholder="Ou descreva...">
                        <button class="random-btn" onclick="randomSuperficie()">ğŸ² AleatÃ³rio</button>
                    </div>
                    <div class="form-group" id="grpPose">
                        <label>ğŸƒ Pose</label>
                        <div id="poseContainer"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“· Estilo de Foto</label>
                        <div class="options-grid cols-5" id="gridEstilo"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ’¡ IluminaÃ§Ã£o</label>
                        <div class="options-grid cols-4" id="gridLuz"></div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ Ã‚ngulo</label>
                        <div class="options-grid cols-5" id="gridAngulo"></div>
                    </div>
                </div>
            </div>
        </section>

        <div class="actions">
            <button class="btn btn-primary" id="btnGerar" onclick="gerarPrompt()" disabled>ğŸš€ Gerar Prompt</button>
            <button class="btn btn-secondary" id="btnVariacoes" onclick="gerarVariacoes()" disabled>ğŸ² 3 VariaÃ§Ãµes</button>
        </div>

        <div class="result" id="resultado"></div>

        <div class="tabs">
            <div class="tabs-header">
                <button class="tab-btn active" onclick="switchTab('historico')">ğŸ“œ HistÃ³rico <span class="count" id="countHist">0</span></button>
                <button class="tab-btn" onclick="switchTab('favoritos')">â­ Favoritos <span class="count" id="countFav">0</span></button>
            </div>
            <div class="tab-content active" id="tabHistorico"></div>
            <div class="tab-content" id="tabFavoritos">
                <div id="listaFavoritos"></div>
                <button class="export-btn" id="btnExport" onclick="exportarFavoritos()" disabled>ğŸ“¤ Exportar (.txt)</button>
            </div>
        </div>

        <footer>ğŸ‘• MockupForge v2.0 - POD Tools</footer>
    </div>

    <!-- MODAL FAVORITOS -->
    <div class="modal-overlay" id="modal">
        <div class="modal">
            <h3>â­ Salvar Favorito</h3>
            <input type="text" id="inputNomeFav" placeholder="Nome do favorito...">
            <div class="modal-btns">
                <button class="modal-cancel" onclick="fecharModal()">Cancelar</button>
                <button class="modal-save" onclick="salvarFavorito()">Salvar</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>

// ========== BANCO DE DADOS COMPLETO ==========
const DATA = {
    nichos: [
        { id: 'tenis', nome: 'TÃªnis', icon: 'ğŸ¾' },
        { id: 'surf', nome: 'Surf', icon: 'ğŸ„' },
        { id: 'fitness', nome: 'Fitness', icon: 'ğŸ’ª' },
        { id: 'futebol', nome: 'Futebol', icon: 'âš½' },
        { id: 'skate', nome: 'Skate', icon: 'ğŸ›¹' },
        { id: 'musica', nome: 'MÃºsica', icon: 'ğŸ¸' },
        { id: 'cafe', nome: 'CafÃ©', icon: 'â˜•' },
        { id: 'cerveja', nome: 'Cerveja', icon: 'ğŸº' },
        { id: 'pets', nome: 'Pets', icon: 'ğŸ•' },
        { id: 'gatos', nome: 'Gatos', icon: 'ğŸ±' },
        { id: 'viagem', nome: 'Viagem', icon: 'âœˆï¸' },
        { id: 'natureza', nome: 'Natureza', icon: 'ğŸŒ¿' },
        { id: 'games', nome: 'Games', icon: 'ğŸ®' },
        { id: 'tech', nome: 'Tech', icon: 'ğŸ’»' },
        { id: 'gospel', nome: 'Gospel', icon: 'âœï¸' },
        { id: 'carros', nome: 'Carros', icon: 'ğŸï¸' },
        { id: 'motos', nome: 'Motos', icon: 'ğŸï¸' },
        { id: 'churrasco', nome: 'Churrasco', icon: 'ğŸ¥©' },
        { id: 'pesca', nome: 'Pesca', icon: 'ğŸ£' },
        { id: 'gastronomia', nome: 'Gastro', icon: 'ğŸ•' },
        { id: 'livros', nome: 'Livros', icon: 'ğŸ“š' },
        { id: 'yoga', nome: 'Yoga', icon: 'ğŸ§˜' },
        { id: 'crossfit', nome: 'CrossFit', icon: 'ğŸ‹ï¸' },
        { id: 'signos', nome: 'Signos', icon: 'â™Œ' },
        { id: 'profissoes', nome: 'ProfissÃµes', icon: 'ğŸ’¼' },
        { id: 'outro', nome: 'Outro', icon: 'âœ¨' }
    ],

    produtos: [
        { id: 'classic', nome: 'Classic Tee', icon: 'ğŸ‘•', en: 'classic cotton crew neck t-shirt' },
        { id: 'oversized', nome: 'Oversized', icon: 'ğŸ“¦', en: 'oversized boxy fit t-shirt' },
        { id: 'hoodie', nome: 'Hoodie', icon: 'ğŸ§¥', en: 'pullover hoodie sweatshirt' },
        { id: 'regata', nome: 'Regata', icon: 'ğŸ’ª', en: 'sleeveless tank top' },
        { id: 'ecobag', nome: 'Ecobag', icon: 'ğŸ›ï¸', en: 'canvas tote bag' }
    ],

    cores: [
        { id: 'branco', hex: '#FFFFFF', en: 'white', light: true },
        { id: 'preto', hex: '#1a1a1a', en: 'black', light: false },
        { id: 'cinza', hex: '#6B7280', en: 'heather gray', light: false },
        { id: 'cinzaesc', hex: '#374151', en: 'charcoal dark gray', light: false },
        { id: 'navy', hex: '#1e3a5f', en: 'navy blue', light: false },
        { id: 'azulbebe', hex: '#93C5FD', en: 'baby blue', light: true },
        { id: 'verde', hex: '#166534', en: 'forest green', light: false },
        { id: 'militar', hex: '#4d5c2e', en: 'army olive green', light: false },
        { id: 'bordo', hex: '#7f1d1d', en: 'burgundy maroon', light: false },
        { id: 'vermelho', hex: '#dc2626', en: 'red', light: false },
        { id: 'mostarda', hex: '#ca8a04', en: 'mustard yellow', light: false },
        { id: 'bege', hex: '#d4c5a9', en: 'cream beige', light: true },
        { id: 'rosa', hex: '#f9a8d4', en: 'light pink', light: true },
        { id: 'lilas', hex: '#c4b5fd', en: 'lavender purple', light: true },
        { id: 'marrom', hex: '#78350f', en: 'brown', light: false },
        { id: 'offwhite', hex: '#faf5ef', en: 'off-white cream', light: true }
    ],

    posicoes: [
        { id: 'centro', nome: 'Centro', icon: 'ğŸ¯', en: 'centered on the chest' },
        { id: 'esquerdo', nome: 'Peito Esq', icon: 'â—€ï¸', en: 'small left chest pocket area like a logo badge' },
        { id: 'direito', nome: 'Peito Dir', icon: 'â–¶ï¸', en: 'small right chest area' },
        { id: 'full', nome: 'Full Front', icon: 'ğŸ“', en: 'large full front print covering the entire chest area' },
        { id: 'costas', nome: 'Costas', icon: 'ğŸ”™', en: 'large centered back print' },
        { id: 'combo', nome: 'Frente+Costa', icon: 'ğŸ”„', en: 'small front chest logo plus large back print' },
        { id: 'barra', nome: 'Barra', icon: 'â¬‡ï¸', en: 'bottom hem area print streetwear style' },
        { id: 'manga', nome: 'Manga', icon: 'ğŸ’ª', en: 'sleeve print on the arm' }
    ],

    tamanhos: [
        { id: 'pp', nome: 'Mini', icon: 'Â·', en: 'very small 5cm mini logo badge' },
        { id: 'p', nome: 'Pequeno', icon: 'â€¢', en: 'small 10cm badge size print' },
        { id: 'm', nome: 'MÃ©dio', icon: 'â—‹', en: 'medium 20cm print' },
        { id: 'g', nome: 'Grande', icon: 'â—', en: 'large 30cm print' },
        { id: 'gg', nome: 'Extra G', icon: 'â—‰', en: 'extra large full coverage print' }
    ],

    modelos: [
        { id: 'homem', nome: 'Homem', icon: 'ğŸ‘¨', en: 'male model' },
        { id: 'mulher', nome: 'Mulher', icon: 'ğŸ‘©', en: 'female model' },
        { id: 'nb', nome: 'NÃ£o-Bin', icon: 'ğŸ§‘', en: 'androgynous non-binary model' },
        { id: 'flatlay', nome: 'Flat Lay', icon: 'ğŸ“·', en: '' }
    ],

    etnias: [
        { id: 'caucasiano', nome: 'Caucasiano', icon: 'ğŸ‘¨ğŸ»', en: 'caucasian white' },
        { id: 'negro', nome: 'Negro', icon: 'ğŸ‘¨ğŸ¿', en: 'black african' },
        { id: 'asiatico', nome: 'AsiÃ¡tico', icon: 'ğŸ‘¨ğŸ»', en: 'east asian' },
        { id: 'latino', nome: 'Latino', icon: 'ğŸ‘¨ğŸ½', en: 'latino hispanic' },
        { id: 'indiano', nome: 'Indiano', icon: 'ğŸ‘³', en: 'south asian indian' },
        { id: 'misto', nome: 'Diverso', icon: 'ğŸŒ', en: 'mixed ethnicity diverse' }
    ],

    idades: [
        { id: 'jovem', nome: '20s', icon: 'ğŸ§‘', en: 'young adult in their 20s' },
        { id: 'adulto', nome: '30-40s', icon: 'ğŸ‘¨', en: 'adult in their 30s to 40s' },
        { id: 'maduro', nome: '50+', icon: 'ğŸ§”', en: 'mature adult in their 50s' }
    ],

    expressoes: [
        { id: 'neutro', nome: 'Neutro', icon: 'ğŸ˜', en: 'neutral serious editorial expression' },
        { id: 'leve', nome: 'Leve', icon: 'ğŸ™‚', en: 'slight gentle smile' },
        { id: 'sorrindo', nome: 'Sorrindo', icon: 'ğŸ˜Š', en: 'warm genuine smile' },
        { id: 'rindo', nome: 'Rindo', icon: 'ğŸ˜„', en: 'laughing joyfully' },
        { id: 'confiante', nome: 'Confiante', icon: 'ğŸ˜', en: 'confident cool expression' }
    ],

    estilosFoto: [
        { id: 'pro', nome: 'DSLR', icon: 'ğŸ“¸', en: 'professional DSLR camera photography sharp high quality' },
        { id: 'iphone', nome: 'iPhone', icon: 'ğŸ“±', en: 'authentic iPhone smartphone photo realistic casual' },
        { id: 'editorial', nome: 'Editorial', icon: 'ğŸ“°', en: 'high fashion editorial magazine photoshoot style' },
        { id: 'filme', nome: 'Filme', icon: 'ğŸï¸', en: 'analog film photography with grain vintage look Kodak Portra' },
        { id: 'ecommerce', nome: 'E-comm', icon: 'ğŸ›’', en: 'clean e-commerce product photography' }
    ],

    categorias: [
        { id: 'estudio', nome: 'EstÃºdio', icon: 'ğŸ“¸' },
        { id: 'esportivo', nome: 'Esportivo', icon: 'ğŸƒ' },
        { id: 'urbano', nome: 'Urbano', icon: 'ğŸ™ï¸' },
        { id: 'natureza', nome: 'Natureza', icon: 'ğŸŒ²' },
        { id: 'indoor', nome: 'Indoor', icon: 'ğŸ ' }
    ],

    nichoCategorias: {
        tenis: ['estudio', 'esportivo', 'urbano'],
        surf: ['estudio', 'esportivo', 'natureza'],
        fitness: ['estudio', 'esportivo', 'urbano'],
        futebol: ['estudio', 'esportivo'],
        skate: ['estudio', 'esportivo', 'urbano'],
        musica: ['estudio', 'urbano', 'indoor'],
        cafe: ['estudio', 'indoor', 'urbano'],
        cerveja: ['estudio', 'indoor', 'urbano'],
        pets: ['estudio', 'natureza', 'indoor'],
        gatos: ['estudio', 'indoor'],
        viagem: ['estudio', 'natureza', 'urbano'],
        natureza: ['estudio', 'natureza'],
        games: ['estudio', 'indoor', 'urbano'],
        tech: ['estudio', 'indoor', 'urbano'],
        gospel: ['estudio', 'indoor', 'natureza'],
        carros: ['estudio', 'urbano', 'esportivo'],
        motos: ['estudio', 'urbano', 'natureza'],
        churrasco: ['estudio', 'indoor', 'natureza'],
        pesca: ['estudio', 'natureza'],
        gastronomia: ['estudio', 'indoor', 'urbano'],
        livros: ['estudio', 'indoor'],
        yoga: ['estudio', 'natureza', 'indoor'],
        crossfit: ['estudio', 'esportivo'],
        signos: ['estudio', 'natureza', 'indoor'],
        profissoes: ['estudio', 'urbano', 'indoor'],
        outro: ['estudio', 'urbano', 'natureza', 'indoor', 'esportivo']
    },

    iluminacoes: [
        { id: 'golden', nome: 'Golden', icon: 'ğŸŒ…', en: 'golden hour warm sunlight soft shadows' },
        { id: 'estudio', nome: 'EstÃºdio', icon: 'ğŸ“¸', en: 'professional studio lighting softbox clean' },
        { id: 'cinema', nome: 'Cinema', icon: 'ğŸ¬', en: 'cinematic dramatic lighting moody contrast' },
        { id: 'natural', nome: 'Natural', icon: 'â˜€ï¸', en: 'natural ambient daylight casual' }
    ],

    angulos: [
        { id: 'frontal', nome: 'Frontal', icon: 'ğŸ‘¤', en: 'front view facing camera' },
        { id: '34', nome: '3/4', icon: 'â†—ï¸', en: 'three quarter angle view' },
        { id: 'close', nome: 'Close', icon: 'ğŸ‘•', en: 'close up chest focus on print' },
        { id: 'costas', nome: 'Costas', icon: 'ğŸ”™', en: 'back view rear' },
        { id: 'corpo', nome: 'Full', icon: 'ğŸ§', en: 'full body head to toe' }
    ],

    cenarios: {
        estudio: [
            { nome: 'Fundo branco infinito', en: 'seamless white infinity backdrop professional studio' },
            { nome: 'Fundo cinza neutro', en: 'neutral gray backdrop studio' },
            { nome: 'Fundo preto elegante', en: 'elegant black background studio' },
            { nome: 'Fundo bege quente', en: 'warm beige cream backdrop' },
            { nome: 'Fundo azul pastel', en: 'soft pastel blue backdrop' },
            { nome: 'Fundo rosa suave', en: 'soft millennial pink backdrop' },
            { nome: 'Fundo gradiente', en: 'soft gradient background' },
            { nome: 'Parede tijolos brancos', en: 'white painted brick wall' },
            { nome: 'Parede tijolos vermelhos', en: 'rustic red exposed brick wall' },
            { nome: 'Parede concreto', en: 'raw concrete industrial wall' },
            { nome: 'Parede texturizada', en: 'textured plaster wall' },
            { nome: 'Cortina branca', en: 'white curtain with natural light' },
            { nome: 'Parede geomÃ©trica', en: 'modern geometric pattern wall' },
            { nome: 'EstÃºdio com plantas', en: 'studio with green plants decor' },
            { nome: 'Parede arte abstrata', en: 'wall with abstract art' },
            { nome: 'Fundo papel kraft', en: 'kraft paper backdrop' },
            { nome: 'EstÃºdio neon', en: 'studio with neon lights' },
            { nome: 'Parede madeira', en: 'natural wood panel wall' },
            { nome: 'Fundo tecido drapeado', en: 'draped fabric backdrop' },
            { nome: 'EstÃºdio industrial', en: 'industrial metal wall studio' }
        ],
        esportivo: [
            { nome: 'Quadra tÃªnis saibro', en: 'clay tennis court with net' },
            { nome: 'Quadra tÃªnis grama', en: 'grass tennis court Wimbledon style' },
            { nome: 'Quadra tÃªnis indoor', en: 'indoor tennis court' },
            { nome: 'Academia moderna', en: 'modern gym with equipment' },
            { nome: 'Box CrossFit', en: 'CrossFit box gym industrial' },
            { nome: 'Ãrea de pesos', en: 'weight room dumbbells barbells' },
            { nome: 'EstÃºdio yoga', en: 'bright yoga studio' },
            { nome: 'Piscina olÃ­mpica', en: 'olympic swimming pool' },
            { nome: 'Beira da piscina', en: 'poolside lounge area' },
            { nome: 'Campo futebol', en: 'soccer football field grass' },
            { nome: 'Arquibancada estÃ¡dio', en: 'stadium seats bleachers' },
            { nome: 'VestiÃ¡rio', en: 'sports locker room' },
            { nome: 'Pista atletismo', en: 'running track athletics' },
            { nome: 'Praia com ondas', en: 'beach with surfing waves' },
            { nome: 'Pier oceano', en: 'wooden pier ocean view' },
            { nome: 'CalÃ§adÃ£o praia', en: 'beach boardwalk' },
            { nome: 'Skatepark', en: 'concrete skatepark ramps' },
            { nome: 'Half-pipe sunset', en: 'halfpipe at sunset' },
            { nome: 'Pista corrida', en: 'race track circuit' },
            { nome: 'Quadra basquete', en: 'outdoor basketball court' }
        ],
        urbano: [
            { nome: 'Rua Nova York', en: 'New York City street yellow taxi' },
            { nome: 'Rua TÃ³quio neon', en: 'Tokyo street night neon signs' },
            { nome: 'Beco Londres', en: 'London brick alley' },
            { nome: 'Rua Los Angeles', en: 'Los Angeles street palm trees' },
            { nome: 'Rua Paris', en: 'Parisian street cafe' },
            { nome: 'Beco grafitti', en: 'alley colorful graffiti murals' },
            { nome: 'Mural arte urbana', en: 'vibrant street art mural' },
            { nome: 'EstaÃ§Ã£o metrÃ´', en: 'subway metro station' },
            { nome: 'Plataforma trem', en: 'train station platform' },
            { nome: 'Rooftop cidade', en: 'rooftop city skyline view' },
            { nome: 'Rooftop noturno', en: 'rooftop bar night city lights' },
            { nome: 'Loja discos', en: 'vintage record store' },
            { nome: 'Loja sneakers', en: 'sneaker shoe store' },
            { nome: 'EstÃºdio mÃºsica', en: 'music studio instruments' },
            { nome: 'Escadaria urbana', en: 'urban concrete stairs' },
            { nome: 'Passarela noite', en: 'pedestrian bridge night' },
            { nome: 'Estacionamento', en: 'parking garage' },
            { nome: 'Garagem vintage', en: 'garage classic car' },
            { nome: 'Posto retrÃ´', en: 'retro gas station' },
            { nome: 'Food truck', en: 'colorful food truck' }
        ],
        natureza: [
            { nome: 'Praia tropical', en: 'tropical beach palm trees' },
            { nome: 'Praia pÃ´r do sol', en: 'beach sunset golden sky' },
            { nome: 'Praia amanhecer', en: 'beach sunrise soft light' },
            { nome: 'CostÃ£o rochoso', en: 'rocky coastline waves' },
            { nome: 'Dunas areia', en: 'sand dunes beach' },
            { nome: 'Trilha floresta', en: 'forest hiking trail' },
            { nome: 'Caminho Ã¡rvores', en: 'path tall trees' },
            { nome: 'Clareira floresta', en: 'forest clearing sunlight' },
            { nome: 'Floresta outono', en: 'autumn forest colorful leaves' },
            { nome: 'Topo montanha', en: 'mountain summit panoramic view' },
            { nome: 'Mirante vale', en: 'viewpoint overlooking valley' },
            { nome: 'Montanha nevada', en: 'snowy mountain' },
            { nome: 'Lago cristalino', en: 'crystal clear lake' },
            { nome: 'Pier lago', en: 'lakeside wooden dock' },
            { nome: 'Rio pesca', en: 'riverbank fishing spot' },
            { nome: 'Cachoeira', en: 'tropical waterfall' },
            { nome: 'Campo flores', en: 'wildflower meadow' },
            { nome: 'Deserto dunas', en: 'desert golden dunes' },
            { nome: 'Estrada rural', en: 'country road fields' },
            { nome: 'Jardim botÃ¢nico', en: 'botanical garden' }
        ],
        indoor: [
            { nome: 'Sala aconchegante', en: 'cozy living room sofa' },
            { nome: 'Sala minimalista', en: 'minimalist modern living room' },
            { nome: 'Sala boho', en: 'bohemian room plants' },
            { nome: 'Quarto luz janela', en: 'bedroom natural window light' },
            { nome: 'Quarto minimalista', en: 'minimalist white bedroom' },
            { nome: 'Varanda cidade', en: 'balcony city view' },
            { nome: 'Varanda plantas', en: 'balcony plants hammock' },
            { nome: 'Cozinha moderna', en: 'modern bright kitchen' },
            { nome: 'Cantinho leitura', en: 'reading nook bookshelf' },
            { nome: 'Home office', en: 'home office workspace' },
            { nome: 'Setup gamer', en: 'gaming setup RGB lights' },
            { nome: 'Sala TV', en: 'TV room cozy' },
            { nome: 'Sala lareira', en: 'living room fireplace' },
            { nome: 'Loft industrial', en: 'industrial loft' },
            { nome: 'Cafeteria hipster', en: 'hipster coffee shop brick' },
            { nome: 'CafÃ© parisiense', en: 'Parisian cafe' },
            { nome: 'Bar cervejas', en: 'craft beer bar' },
            { nome: 'Restaurante', en: 'restaurant interior' },
            { nome: 'Livraria', en: 'cozy bookstore' },
            { nome: 'Igreja', en: 'church interior stained glass' }
        ]
    },

    superficies: [
        { nome: 'Madeira clara', en: 'light oak wood surface' },
        { nome: 'Madeira escura', en: 'dark walnut wood surface' },
        { nome: 'Madeira branca', en: 'white painted wood' },
        { nome: 'MÃ¡rmore branco', en: 'white marble gray veins' },
        { nome: 'MÃ¡rmore preto', en: 'black marble gold veins' },
        { nome: 'Concreto liso', en: 'smooth gray concrete' },
        { nome: 'Concreto textura', en: 'textured concrete' },
        { nome: 'Linho bege', en: 'beige linen fabric' },
        { nome: 'AlgodÃ£o branco', en: 'white cotton fabric' },
        { nome: 'AlgodÃ£o cinza', en: 'gray cotton fabric' },
        { nome: 'Mesa cafÃ©', en: 'coffee table with magazine and cup' },
        { nome: 'Mesa plantas', en: 'table with plants' },
        { nome: 'Areia praia', en: 'beach sand seashells' },
        { nome: 'Grama verde', en: 'green grass lawn' },
        { nome: 'Mesa trabalho', en: 'work desk laptop' }
    ],

    posesUniversais: [
        { nome: 'Em pÃ© relaxado', en: 'standing relaxed looking at camera natural posture' },
        { nome: 'Andando', en: 'walking naturally candid movement' },
        { nome: 'Encostado parede', en: 'leaning against wall casually' },
        { nome: 'Sentado', en: 'sitting casually on bench or ledge' },
        { nome: 'Rindo', en: 'laughing genuinely happy authentic' },
        { nome: 'Olhando lado', en: 'looking to the side thoughtful' },
        { nome: 'MÃ£os bolso', en: 'hands in pockets confident' },
        { nome: 'BraÃ§os cruzados', en: 'arms crossed friendly' },
        { nome: 'Ajustando roupa', en: 'adjusting shirt casually' },
        { nome: 'Mexendo cabelo', en: 'hand through hair candid' }
    ],

    posesEspecificas: {
        tenis: [
            { nome: 'ğŸ¾ Raquete ombro', en: 'holding tennis racket on shoulder' },
            { nome: 'ğŸ¾ PosiÃ§Ã£o saque', en: 'tennis serve position' },
            { nome: 'ğŸ¾ Comemorando', en: 'celebrating point fist pump' },
            { nome: 'ğŸ¾ Toalha pescoÃ§o', en: 'towel around neck' },
            { nome: 'ğŸ¾ Segurando bola', en: 'holding tennis ball' }
        ],
        surf: [
            { nome: 'ğŸ„ Prancha lado', en: 'holding surfboard at side' },
            { nome: 'ğŸ„ Prancha cabeÃ§a', en: 'surfboard on head' },
            { nome: 'ğŸ„ Olhando mar', en: 'looking at ocean' },
            { nome: 'ğŸ„ Passando cera', en: 'waxing surfboard' },
            { nome: 'ğŸ„ Saindo mar', en: 'walking from ocean' }
        ],
        fitness: [
            { nome: 'ğŸ’ª Com halteres', en: 'holding dumbbells' },
            { nome: 'ğŸ’ª FlexÃ£o bÃ­ceps', en: 'flexing biceps' },
            { nome: 'ğŸ’ª Alongando', en: 'stretching arms' },
            { nome: 'ğŸ’ª Bebendo Ã¡gua', en: 'drinking water bottle' },
            { nome: 'ğŸ’ª PÃ³s-treino', en: 'post workout towel' }
        ],
        futebol: [
            { nome: 'âš½ PÃ© na bola', en: 'foot on soccer ball' },
            { nome: 'âš½ Bola braÃ§o', en: 'ball under arm' },
            { nome: 'âš½ Comemorando gol', en: 'celebrating goal' },
            { nome: 'âš½ MÃ£os cintura', en: 'hands on hips' },
            { nome: 'âš½ Amarrando chuteira', en: 'tying cleats' }
        ],
        skate: [
            { nome: 'ğŸ›¹ Skate mÃ£o', en: 'holding skateboard' },
            { nome: 'ğŸ›¹ Skate braÃ§o', en: 'skateboard under arm' },
            { nome: 'ğŸ›¹ Sentado skate', en: 'sitting on skateboard' },
            { nome: 'ğŸ›¹ Pose trick', en: 'trick stance' },
            { nome: 'ğŸ›¹ Andando', en: 'riding skateboard' }
        ],
        musica: [
            { nome: 'ğŸ¸ Com guitarra', en: 'holding electric guitar' },
            { nome: 'ğŸ¸ Com violÃ£o', en: 'playing acoustic guitar' },
            { nome: 'ğŸ¸ Fones ouvido', en: 'wearing headphones' },
            { nome: 'ğŸ¸ No microfone', en: 'singing microphone' },
            { nome: 'ğŸ¸ Com baquetas', en: 'holding drumsticks' }
        ],
        cafe: [
            { nome: 'â˜• Caneca mÃ£os', en: 'holding mug both hands' },
            { nome: 'â˜• Soprando cafÃ©', en: 'blowing hot coffee' },
            { nome: 'â˜• Lendo livro', en: 'reading with coffee' },
            { nome: 'â˜• No laptop', en: 'working laptop coffee' },
            { nome: 'â˜• Olhando janela', en: 'looking window coffee' }
        ],
        cerveja: [
            { nome: 'ğŸº Brindando', en: 'toasting cheers' },
            { nome: 'ğŸº Long neck', en: 'holding beer bottle' },
            { nome: 'ğŸº No bar', en: 'at bar counter' },
            { nome: 'ğŸº Tomando gole', en: 'drinking beer' },
            { nome: 'ğŸº Sorrindo copo', en: 'smiling with glass' }
        ],
        pets: [
            { nome: 'ğŸ• AbraÃ§ando dog', en: 'hugging dog' },
            { nome: 'ğŸ• Passeando', en: 'walking dog leash' },
            { nome: 'ğŸ• Brincando', en: 'playing with dog' },
            { nome: 'ğŸ• Dog no colo', en: 'dog on lap' },
            { nome: 'ğŸ• Selfie dog', en: 'selfie with dog' }
        ],
        gatos: [
            { nome: 'ğŸ± Gato colo', en: 'cat in lap' },
            { nome: 'ğŸ± Segurando gato', en: 'holding cat' },
            { nome: 'ğŸ± Gato ombro', en: 'cat on shoulder' },
            { nome: 'ğŸ± Brincando gato', en: 'playing with cat' },
            { nome: 'ğŸ± Carinho gato', en: 'petting cat' }
        ],
        viagem: [
            { nome: 'âœˆï¸ Com mochila', en: 'wearing backpack' },
            { nome: 'âœˆï¸ Olhando mapa', en: 'looking at map' },
            { nome: 'âœˆï¸ Tirando foto', en: 'taking photo camera' },
            { nome: 'âœˆï¸ Com mala', en: 'with luggage' },
            { nome: 'âœˆï¸ BraÃ§os abertos', en: 'arms open view' }
        ],
        natureza: [
            { nome: 'ğŸŒ¿ Respirando', en: 'breathing fresh air peaceful' },
            { nome: 'ğŸŒ¿ AbraÃ§ando Ã¡rvore', en: 'hugging tree' },
            { nome: 'ğŸŒ¿ Na pedra', en: 'sitting on rock' },
            { nome: 'ğŸŒ¿ Meditando', en: 'meditating' },
            { nome: 'ğŸŒ¿ Na trilha', en: 'hiking trail' }
        ],
        games: [
            { nome: 'ğŸ® Com controle', en: 'holding controller' },
            { nome: 'ğŸ® Headset', en: 'wearing gaming headset' },
            { nome: 'ğŸ® Comemorando', en: 'celebrating victory' },
            { nome: 'ğŸ® Concentrado', en: 'focused gaming' },
            { nome: 'ğŸ® No setup', en: 'at gaming setup' }
        ],
        tech: [
            { nome: 'ğŸ’» No laptop', en: 'typing laptop' },
            { nome: 'ğŸ’» No celular', en: 'looking at phone' },
            { nome: 'ğŸ’» Com tablet', en: 'holding tablet' },
            { nome: 'ğŸ’» Codando', en: 'coding at monitor' },
            { nome: 'ğŸ’» CafÃ© trabalho', en: 'coffee laptop working' }
        ],
        gospel: [
            { nome: 'âœï¸ Orando', en: 'hands prayer peaceful' },
            { nome: 'âœï¸ Com bÃ­blia', en: 'holding bible' },
            { nome: 'âœï¸ Olhos fechados', en: 'eyes closed faith' },
            { nome: 'âœï¸ MÃ£os ao cÃ©u', en: 'arms raised praising' },
            { nome: 'âœï¸ Lendo bÃ­blia', en: 'reading scripture' }
        ],
        carros: [
            { nome: 'ğŸï¸ Encostado carro', en: 'leaning on car' },
            { nome: 'ğŸï¸ No volante', en: 'hand on steering wheel' },
            { nome: 'ğŸï¸ Abrindo porta', en: 'opening car door' },
            { nome: 'ğŸï¸ No capÃ´', en: 'sitting on hood' },
            { nome: 'ğŸï¸ Com chave', en: 'holding car keys' }
        ],
        motos: [
            { nome: 'ğŸï¸ Na moto', en: 'sitting on motorcycle' },
            { nome: 'ğŸï¸ Com capacete', en: 'holding helmet' },
            { nome: 'ğŸï¸ Encostado moto', en: 'leaning on motorcycle' },
            { nome: 'ğŸï¸ Colocando capacete', en: 'putting on helmet' },
            { nome: 'ğŸï¸ Jaqueta couro', en: 'leather jacket biker' }
        ],
        churrasco: [
            { nome: 'ğŸ¥© Com espeto', en: 'holding meat skewer' },
            { nome: 'ğŸ¥© Na grelha', en: 'at barbecue grill' },
            { nome: 'ğŸ¥© Cerveja churrasco', en: 'beer at BBQ' },
            { nome: 'ğŸ¥© Com avental', en: 'wearing BBQ apron' },
            { nome: 'ğŸ¥© Cortando carne', en: 'slicing meat' }
        ],
        pesca: [
            { nome: 'ğŸ£ Com vara', en: 'holding fishing rod' },
            { nome: 'ğŸ£ Pescando', en: 'fishing focused' },
            { nome: 'ğŸ£ Mostrando peixe', en: 'showing caught fish' },
            { nome: 'ğŸ£ Sentado rio', en: 'sitting by river' },
            { nome: 'ğŸ£ Preparando isca', en: 'preparing bait' }
        ],
        gastronomia: [
            { nome: 'ğŸ• Com prato', en: 'holding dish plate' },
            { nome: 'ğŸ• Provando', en: 'tasting food' },
            { nome: 'ğŸ• Cozinhando', en: 'cooking kitchen' },
            { nome: 'ğŸ• Avental chef', en: 'wearing chef apron' },
            { nome: 'ğŸ• Brindando vinho', en: 'toasting wine' }
        ],
        livros: [
            { nome: 'ğŸ“š Lendo', en: 'reading book absorbed' },
            { nome: 'ğŸ“š Pilha livros', en: 'stack of books' },
            { nome: 'ğŸ“š Livro peito', en: 'holding book chest' },
            { nome: 'ğŸ“š Na biblioteca', en: 'at library shelf' },
            { nome: 'ğŸ“š CafÃ© livro', en: 'coffee and book' }
        ],
        yoga: [
            { nome: 'ğŸ§˜ LÃ³tus', en: 'lotus position' },
            { nome: 'ğŸ§˜ Namaste', en: 'namaste hands' },
            { nome: 'ğŸ§˜ Warrior', en: 'warrior pose' },
            { nome: 'ğŸ§˜ No tapete', en: 'on yoga mat' },
            { nome: 'ğŸ§˜ Respirando', en: 'deep breathing' }
        ],
        crossfit: [
            { nome: 'ğŸ‹ï¸ Levantando barra', en: 'lifting barbell' },
            { nome: 'ğŸ‹ï¸ Kettlebell', en: 'kettlebell swing' },
            { nome: 'ğŸ‹ï¸ Box jump', en: 'box jump' },
            { nome: 'ğŸ‹ï¸ Battle rope', en: 'battle ropes' },
            { nome: 'ğŸ‹ï¸ Pneu', en: 'tire flip' }
        ],
        signos: [
            { nome: 'â™Œ Olhando estrelas', en: 'looking at stars' },
            { nome: 'â™Œ Pose mÃ­stica', en: 'mystical pose' },
            { nome: 'â™Œ ConstelaÃ§Ã£o', en: 'reaching constellation' },
            { nome: 'â™Œ Meditando cosmos', en: 'cosmic meditation' },
            { nome: 'â™Œ Lua fundo', en: 'moon background' }
        ],
        profissoes: [
            { nome: 'ğŸ’¼ De terno', en: 'wearing business suit' },
            { nome: 'ğŸ’¼ Jaleco', en: 'medical white coat' },
            { nome: 'ğŸ’¼ Capacete obra', en: 'hard hat engineer' },
            { nome: 'ğŸ’¼ Chef uniforme', en: 'chef uniform' },
            { nome: 'ğŸ’¼ Em reuniÃ£o', en: 'business meeting' }
        ],
        outro: [
            { nome: 'âœ¨ Pose natural', en: 'natural relaxed pose' },
            { nome: 'âœ¨ Sorriso genuÃ­no', en: 'genuine warm smile' },
            { nome: 'âœ¨ Movimento', en: 'dynamic movement' },
            { nome: 'âœ¨ Olhar confiante', en: 'confident look' },
            { nome: 'âœ¨ Pose artÃ­stica', en: 'artistic creative pose' }
        ]
    }
};

// ========== ESTADO ==========
let state = {
    nicho: null,
    produto: null,
    cor: null,
    posicao: null,
    tamanho: null,
    modelo: null,
    etnia: null,
    idade: null,
    expressao: null,
    categoria: null,
    cenario: null,
    cenarioCustom: '',
    superficie: null,
    superficieCustom: '',
    pose: null,
    poseAI: false,
    estilo: null,
    luz: null,
    angulo: null
};

let promptAtual = '';
let historico = JSON.parse(localStorage.getItem('mf_hist') || '[]');
let favoritos = JSON.parse(localStorage.getItem('mf_fav') || '[]');

// ========== INICIALIZAÃ‡ÃƒO ==========
document.addEventListener('DOMContentLoaded', init);

function init() {
    renderGrid('gridNicho', DATA.nichos, 'nicho');
    renderGrid('gridProduto', DATA.produtos, 'produto');
    renderCores();
    renderGrid('gridPosicao', DATA.posicoes, 'posicao');
    renderGrid('gridTamanho', DATA.tamanhos, 'tamanho');
    renderGrid('gridModelo', DATA.modelos, 'modelo');
    renderGrid('gridEtnia', DATA.etnias, 'etnia');
    renderGrid('gridIdade', DATA.idades, 'idade');
    renderGrid('gridExpressao', DATA.expressoes, 'expressao');
    renderGrid('gridCategoria', DATA.categorias, 'categoria');
    renderSuperficies();
    renderGrid('gridEstilo', DATA.estilosFoto, 'estilo');
    renderGrid('gridLuz', DATA.iluminacoes, 'luz');
    renderGrid('gridAngulo', DATA.angulos, 'angulo');
    renderPoses();
    atualizarTabs();
    exibirUsuarioLogado();

    // Event listeners
    document.getElementById('confirmCheck').addEventListener('change', function() {
        document.getElementById('stickyConfirm').classList.toggle('confirmed', this.checked);
        checkBotoes();
    });
    
    document.getElementById('selCenario').addEventListener('change', function() {
        state.cenario = this.value;
        checkBotoes();
    });
    
    document.getElementById('txtCenario').addEventListener('input', function() {
        state.cenarioCustom = this.value;
        checkBotoes();
    });
    
    document.getElementById('selSuperficie').addEventListener('change', function() {
        state.superficie = this.value;
        checkBotoes();
    });
    
    document.getElementById('txtSuperficie').addEventListener('input', function() {
        state.superficieCustom = this.value;
        checkBotoes();
    });
}

// ========== AUTENTICAÃ‡ÃƒO ==========
function exibirUsuarioLogado() {
    try {
        const sessao = JSON.parse(localStorage.getItem('promptforge_session') || '{}');
        if (sessao.nome) {
            const primeiroNome = sessao.nome.split(' ')[0];
            document.getElementById('userGreeting').textContent = `OlÃ¡, ${primeiroNome}`;
        }
    } catch (e) {
        console.log('Erro ao exibir usuÃ¡rio:', e);
    }
}

function confirmarLogout() {
    if (confirm('Deseja realmente sair?')) {
        localStorage.removeItem('promptforge_session');
        window.location.href = 'index.html';
    }
}

// ========== RENDERIZAÃ‡ÃƒO ==========
function renderGrid(id, items, campo) {
    const el = document.getElementById(id);
    if (!el) return;
    el.innerHTML = items.map(item => `
        <div class="opt" data-id="${item.id}" onclick="selecionar('${campo}', '${item.id}')">
            <span class="icon">${item.icon}</span>
            <span>${item.nome}</span>
        </div>
    `).join('');
}

function renderCores() {
    const el = document.getElementById('gridCor');
    el.innerHTML = DATA.cores.map(c => `
        <div class="color-opt" data-id="${c.id}" 
             style="background:${c.hex};${c.light ? 'border:1px solid #999;' : ''}"
             onclick="selecionar('cor', '${c.id}')"></div>
    `).join('');
}

function renderSuperficies() {
    const sel = document.getElementById('selSuperficie');
    sel.innerHTML = '<option value="">Selecione...</option>' +
        DATA.superficies.map((s, i) => `<option value="${i}">${s.nome}</option>`).join('');
}

function renderCenarios() {
    const sel = document.getElementById('selCenario');
    if (!state.categoria) {
        sel.innerHTML = '<option value="">Escolha categoria primeiro...</option>';
        return;
    }
    const lista = DATA.cenarios[state.categoria] || [];
    sel.innerHTML = '<option value="">Selecione o cenÃ¡rio...</option>' +
        lista.map((c, i) => `<option value="${i}">${c.nome}</option>`).join('');
}

function renderPoses() {
    const container = document.getElementById('poseContainer');
    if (!container) return;
    
    let html = '';
    
    // Poses especÃ­ficas do nicho
    if (state.nicho && DATA.posesEspecificas[state.nicho]) {
        const nichoNome = DATA.nichos.find(n => n.id === state.nicho)?.nome || '';
        html += `<div class="pose-group-title rec">ğŸ¯ Recomendadas para ${nichoNome}</div>`;
        DATA.posesEspecificas[state.nicho].forEach((p, i) => {
            const sel = state.pose === `esp_${i}` ? 'selected' : '';
            html += `<div class="pose-opt ${sel}" onclick="selecionarPose('esp_${i}')">${p.nome}</div>`;
        });
    }
    
    // Poses universais
    html += `<div class="pose-group-title uni">ğŸ“Œ Poses Universais</div>`;
    DATA.posesUniversais.forEach((p, i) => {
        const sel = state.pose === `uni_${i}` ? 'selected' : '';
        html += `<div class="pose-opt ${sel}" onclick="selecionarPose('uni_${i}')">${p.nome}</div>`;
    });
    
    // IA decide
    const aiSel = state.poseAI ? 'selected' : '';
    html += `<div class="pose-opt ai ${aiSel}" onclick="selecionarPoseAI()">ğŸ¤– Deixar a IA decidir</div>`;
    
    container.innerHTML = html;
}

// ========== SELEÃ‡ÃƒO ==========
function selecionar(campo, valor) {
    state[campo] = valor;
    
    // Atualizar visual
    const gridMap = {
        nicho: 'gridNicho',
        produto: 'gridProduto',
        cor: 'gridCor',
        posicao: 'gridPosicao',
        tamanho: 'gridTamanho',
        modelo: 'gridModelo',
        etnia: 'gridEtnia',
        idade: 'gridIdade',
        expressao: 'gridExpressao',
        categoria: 'gridCategoria',
        estilo: 'gridEstilo',
        luz: 'gridLuz',
        angulo: 'gridAngulo'
    };
    
    const gridId = gridMap[campo];
    if (gridId) {
        const container = document.getElementById(gridId);
        if (container) {
            container.querySelectorAll('.opt, .color-opt').forEach(el => {
                el.classList.toggle('selected', el.dataset.id === valor);
            });
        }
    }
    
    // LÃ³gica especial por campo
    if (campo === 'nicho') {
        atualizarCategorias();
        renderPoses();
    }
    
    if (campo === 'modelo') {
        const isFlatLay = valor === 'flatlay';
        document.getElementById('grpEtnia').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpIdade').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpExpressao').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpCategoria').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpCenario').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpPose').classList.toggle('hidden', isFlatLay);
        document.getElementById('grpSuperficie').classList.toggle('hidden', !isFlatLay);
    }
    
    if (campo === 'categoria') {
        renderCenarios();
        state.cenario = null;
    }
    
    checkBotoes();
}

function selecionarPose(id) {
    state.pose = id;
    state.poseAI = false;
    renderPoses();
    checkBotoes();
}

function selecionarPoseAI() {
    state.poseAI = true;
    state.pose = null;
    renderPoses();
    checkBotoes();
}

function atualizarCategorias() {
    const permitidas = DATA.nichoCategorias[state.nicho] || Object.keys(DATA.cenarios);
    const container = document.getElementById('gridCategoria');
    
    container.querySelectorAll('.opt').forEach(el => {
        const permitido = permitidas.includes(el.dataset.id);
        el.classList.toggle('disabled', !permitido);
    });
    
    // Reset categoria se nÃ£o permitida
    if (state.categoria && !permitidas.includes(state.categoria)) {
        state.categoria = null;
        container.querySelectorAll('.opt').forEach(el => el.classList.remove('selected'));
        renderCenarios();
    }
}

// ========== UI HELPERS ==========
function toggleSection(id) {
    document.getElementById(id).classList.toggle('open');
}

function checkBotoes() {
    const confirmed = document.getElementById('confirmCheck').checked;
    const isFlatLay = state.modelo === 'flatlay';
    
    let pronto = confirmed && 
                 state.nicho && 
                 state.produto && 
                 state.cor && 
                 state.posicao && 
                 state.tamanho && 
                 state.modelo && 
                 state.estilo && 
                 state.luz && 
                 state.angulo;
    
    if (isFlatLay) {
        pronto = pronto && (state.superficie !== null || state.superficieCustom);
    } else {
        pronto = pronto && 
                 state.etnia && 
                 state.idade && 
                 state.expressao &&
                 (state.cenario !== null || state.cenarioCustom) && 
                 (state.pose || state.poseAI);
    }
    
    document.getElementById('btnGerar').disabled = !pronto;
    document.getElementById('btnVariacoes').disabled = !pronto;
}

function switchTab(tab) {
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
    
    event.target.classList.add('active');
    document.getElementById('tab' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.add('active');
}

function atualizarTabs() {
    document.getElementById('countHist').textContent = historico.length;
    document.getElementById('countFav').textContent = favoritos.length;
    
    // HistÃ³rico
    const histEl = document.getElementById('tabHistorico');
    if (historico.length === 0) {
        histEl.innerHTML = '<div class="empty"><div class="icon">ğŸ“œ</div><p>Nenhum prompt gerado</p></div>';
    } else {
        histEl.innerHTML = historico.slice().reverse().map((item, i) => `
            <div class="saved-item">
                <div class="saved-item-header">
                    <span class="saved-item-name">Prompt #${historico.length - i}</span>
                    <span class="saved-item-date">${item.data}</span>
                </div>
                <div class="saved-item-preview">${item.prompt.substring(0, 100)}...</div>
                <div class="saved-item-actions">
                    <button onclick="copiarTexto(\`${encodeURIComponent(item.prompt)}\`)">ğŸ“‹ Copiar</button>
                </div>
            </div>
        `).join('');
    }
    
    // Favoritos
    const favEl = document.getElementById('listaFavoritos');
    if (favoritos.length === 0) {
        favEl.innerHTML = '<div class="empty"><div class="icon">â­</div><p>Nenhum favorito</p></div>';
    } else {
        favEl.innerHTML = favoritos.map((item, i) => `
            <div class="saved-item">
                <div class="saved-item-header">
                    <span class="saved-item-name">${item.nome}</span>
                    <span class="saved-item-date">${item.data}</span>
                </div>
                <div class="saved-item-preview">${item.prompt.substring(0, 100)}...</div>
                <div class="saved-item-actions">
                    <button onclick="copiarTexto(\`${encodeURIComponent(item.prompt)}\`)">ğŸ“‹ Copiar</button>
                    <button class="del" onclick="removerFavorito(${i})">ğŸ—‘ï¸</button>
                </div>
            </div>
        `).join('');
    }
    
    document.getElementById('btnExport').disabled = favoritos.length === 0;
}

// ========== RANDOM ==========
function randomCenario() {
    if (!state.categoria) {
        toast('Escolha uma categoria primeiro!', true);
        return;
    }
    const lista = DATA.cenarios[state.categoria];
    const idx = Math.floor(Math.random() * lista.length);
    document.getElementById('selCenario').value = idx;
    state.cenario = idx.toString();
    checkBotoes();
    toast('ğŸ² CenÃ¡rio sorteado!');
}

function randomSuperficie() {
    const idx = Math.floor(Math.random() * DATA.superficies.length);
    document.getElementById('selSuperficie').value = idx;
    state.superficie = idx.toString();
    checkBotoes();
    toast('ğŸ² SuperfÃ­cie sorteada!');
}

// ========== GERAÃ‡ÃƒO DE PROMPT ==========
function gerarPrompt() {
    promptAtual = construirPrompt();
    
    // Salvar no histÃ³rico
    historico.push({
        prompt: promptAtual,
        data: new Date().toLocaleString('pt-BR')
    });
    if (historico.length > 20) historico.shift();
    localStorage.setItem('mf_hist', JSON.stringify(historico));
    
    // Mostrar resultado
    const el = document.getElementById('resultado');
    el.innerHTML = `
        <h3>ğŸ“‹ Prompt Gerado</h3>
        <div class="prompt-box">${promptAtual}</div>
        <div class="result-actions">
            <button class="btn-copy" onclick="copiarPrompt()">ğŸ“‹ Copiar</button>
            <button class="btn-copy" onclick="abrirGemini()" style="background: linear-gradient(135deg, #4285f4, #34a853);">ğŸš€ Abrir Gemini</button>
            <button class="btn-fav" onclick="abrirModal()">â­ Salvar</button>
        </div>
    `;
    el.classList.add('show');
    el.scrollIntoView({ behavior: 'smooth' });
    
    atualizarTabs();
    toast('âœ… Prompt gerado!');
}

function gerarVariacoes() {
    const prompts = [];
    for (let i = 0; i < 3; i++) {
        prompts.push(construirPrompt(true));
    }
    
    // Salvar no histÃ³rico
    prompts.forEach(p => {
        historico.push({
            prompt: p,
            data: new Date().toLocaleString('pt-BR')
        });
    });
    if (historico.length > 20) historico = historico.slice(-20);
    localStorage.setItem('mf_hist', JSON.stringify(historico));
    
    // Mostrar resultado
    const el = document.getElementById('resultado');
    el.innerHTML = `
        <h3>ğŸ² 3 VariaÃ§Ãµes Geradas</h3>
        ${prompts.map((p, i) => `
            <div class="variation">
                <div class="variation-label">VariaÃ§Ã£o ${i + 1}</div>
                <div class="prompt-box">${p}</div>
                <div class="result-actions">
                    <button class="btn-copy" onclick="copiarTexto(\`${encodeURIComponent(p)}\`)">ğŸ“‹ Copiar</button>
                </div>
            </div>
        `).join('')}
    `;
    el.classList.add('show');
    el.scrollIntoView({ behavior: 'smooth' });
    
    atualizarTabs();
    toast('âœ… 3 variaÃ§Ãµes geradas!');
}

function construirPrompt(variar = false) {
    const isFlatLay = state.modelo === 'flatlay';
    
    const produto = DATA.produtos.find(p => p.id === state.produto);
    const cor = DATA.cores.find(c => c.id === state.cor);
    const posicao = DATA.posicoes.find(p => p.id === state.posicao);
    const tamanho = DATA.tamanhos.find(t => t.id === state.tamanho);
    const estilo = DATA.estilosFoto.find(e => e.id === state.estilo);
    const luz = DATA.iluminacoes.find(l => l.id === state.luz);
    const angulo = DATA.angulos.find(a => a.id === state.angulo);
    
    let prompt = 'Using the attached image as the design/print to apply on the product, create a realistic mockup photograph.\n\n';
    
    // Produto
    prompt += `PRODUCT: ${cor.en} ${produto.en}\n`;
    prompt += `PRINT PLACEMENT: ${posicao.en}, ${tamanho.en}\n`;
    
    if (isFlatLay) {
        // Flat Lay
        let superficie = state.superficieCustom;
        if (!superficie && state.superficie !== null) {
            const idx = parseInt(state.superficie);
            superficie = DATA.superficies[idx]?.en || 'wooden surface';
        }
        if (variar && !state.superficieCustom) {
            const randomIdx = Math.floor(Math.random() * DATA.superficies.length);
            superficie = DATA.superficies[randomIdx].en;
        }
        
        prompt += `STYLE: Flat lay product photography, top-down view\n`;
        prompt += `SURFACE: ${superficie}\n`;
    } else {
        // Com modelo
        const modelo = DATA.modelos.find(m => m.id === state.modelo);
        const etnia = DATA.etnias.find(e => e.id === state.etnia);
        const idade = DATA.idades.find(i => i.id === state.idade);
        const expressao = DATA.expressoes.find(e => e.id === state.expressao);
        
        prompt += `MODEL: ${etnia.en} ${modelo.en} ${idade.en}\n`;
        prompt += `EXPRESSION: ${expressao.en}\n`;
        
        // CenÃ¡rio
        let cenario = state.cenarioCustom;
        if (!cenario && state.cenario !== null) {
            const idx = parseInt(state.cenario);
            cenario = DATA.cenarios[state.categoria]?.[idx]?.en || 'studio background';
        }
        if (variar && !state.cenarioCustom && state.categoria) {
            const lista = DATA.cenarios[state.categoria];
            const randomIdx = Math.floor(Math.random() * lista.length);
            cenario = lista[randomIdx].en;
        }
        prompt += `LOCATION: ${cenario}\n`;
        
        // Pose
        let pose = '';
        if (state.poseAI) {
            pose = 'natural candid pose, authentic relaxed moment';
        } else if (state.pose) {
            if (state.pose.startsWith('esp_')) {
                const idx = parseInt(state.pose.split('_')[1]);
                pose = DATA.posesEspecificas[state.nicho]?.[idx]?.en || 'natural pose';
            } else {
                const idx = parseInt(state.pose.split('_')[1]);
                pose = DATA.posesUniversais[idx]?.en || 'natural pose';
            }
        }
        if (variar && !state.poseAI) {
            const allPoses = [
                ...DATA.posesUniversais,
                ...(DATA.posesEspecificas[state.nicho] || [])
            ];
            const randomIdx = Math.floor(Math.random() * allPoses.length);
            pose = allPoses[randomIdx].en;
        }
        prompt += `POSE: ${pose}\n`;
    }
    
    // Fotografia
    prompt += `CAMERA ANGLE: ${angulo.en}\n`;
    prompt += `LIGHTING: ${luz.en}\n`;
    prompt += `PHOTO STYLE: ${estilo.en}\n`;
    
    // InstruÃ§Ãµes finais
    prompt += `\nIMPORTANT: The print must be realistically integrated into the fabric, following natural wrinkles and body contours. Photorealistic quality, high resolution, professional mockup.`;
    
    return prompt;
}

// ========== COPIAR ==========
function copiarPrompt() {
    navigator.clipboard.writeText(promptAtual).then(() => {
        toast('ğŸ“‹ Copiado!');
    });
}

function copiarTexto(encoded) {
    const texto = decodeURIComponent(encoded);
    navigator.clipboard.writeText(texto).then(() => {
        toast('ğŸ“‹ Copiado!');
    });
}

// ========== ABRIR GEMINI ==========
function abrirGemini() {
    navigator.clipboard.writeText(promptAtual).then(() => {
        toast('âœ… Prompt copiado! Cole no Gemini com Ctrl+V');
        window.open('https://gemini.google.com/app', '_blank');
    });
}

// ========== FAVORITOS ==========
function abrirModal() {
    document.getElementById('modal').classList.add('show');
    document.getElementById('inputNomeFav').value = '';
    document.getElementById('inputNomeFav').focus();
}

function fecharModal() {
    document.getElementById('modal').classList.remove('show');
}

function salvarFavorito() {
    const nome = document.getElementById('inputNomeFav').value.trim() || 'Favorito ' + (favoritos.length + 1);
    
    favoritos.push({
        nome: nome,
        prompt: promptAtual,
        data: new Date().toLocaleString('pt-BR')
    });
    
    localStorage.setItem('mf_fav', JSON.stringify(favoritos));
    fecharModal();
    atualizarTabs();
    toast('â­ Salvo nos favoritos!');
}

function removerFavorito(index) {
    favoritos.splice(index, 1);
    localStorage.setItem('mf_fav', JSON.stringify(favoritos));
    atualizarTabs();
    toast('ğŸ—‘ï¸ Removido!');
}

function exportarFavoritos() {
    if (favoritos.length === 0) return;
    
    let txt = 'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n';
    txt += 'â•‘  â­ MOCKUPFORGE v2 - FAVORITOS EXPORTADOS                     â•‘\n';
    txt += 'â•‘  ğŸ“… ' + new Date().toLocaleString('pt-BR').padEnd(52) + 'â•‘\n';
    txt += 'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n';
    
    favoritos.forEach((fav, i) => {
        txt += 'â”'.repeat(60) + '\n';
        txt += `â­ ${fav.nome}\n`;
        txt += `ğŸ“… ${fav.data}\n`;
        txt += 'â”'.repeat(60) + '\n\n';
        txt += fav.prompt + '\n\n';
        txt += '\n';
    });
    
    txt += 'â•'.repeat(60) + '\n';
    txt += `ğŸ“Š Total: ${favoritos.length} favoritos\n`;
    txt += 'ğŸ”— Gerado por MockupForge v2 - POD Tools\n';
    
    const blob = new Blob([txt], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'mockupforge-favoritos.txt';
    a.click();
    URL.revokeObjectURL(url);
    
    toast('ğŸ“¤ Exportado!');
}

// ========== TOAST ==========
function toast(msg, isError = false) {
    const el = document.getElementById('toast');
    el.textContent = msg;
    el.className = 'toast show' + (isError ? ' error' : '');
    setTimeout(() => el.classList.remove('show'), 2500);
}

// ========== EVENTOS GLOBAIS ==========
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') fecharModal();
});

document.getElementById('modal').addEventListener('click', (e) => {
    if (e.target.id === 'modal') fecharModal();
});

    </script>
</body>
</html>